{"version":3,"file":"Pagination.js","sources":["../../src/components/Pagination.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue'\n\nconst props = defineProps<{\n  currentPage: number\n  totalPages: number\n  total: number\n}>()\n\nconst emit = defineEmits<{\n  (e: 'update:currentPage', page: number): void\n}>()\n\nconst jumpPage = ref('')\n\n// 生成页码列表（最多7个，超出用 -1 表示省略号）\nconst pages = computed(() => {\n  const total = props.totalPages\n  const current = props.currentPage\n  if (total <= 7) {\n    return Array.from({ length: total }, (_, i) => i + 1)\n  }\n  const result: number[] = [1]\n  if (current > 3) result.push(-1)\n  const start = Math.max(2, current - 1)\n  const end = Math.min(total - 1, current + 1)\n  for (let i = start; i <= end; i++) result.push(i)\n  if (current < total - 2) result.push(-1)\n  result.push(total)\n  return result\n})\n\nconst goToPage = (page: number) => {\n  if (page < 1 || page > props.totalPages || page === props.currentPage) return\n  emit('update:currentPage', page)\n}\n\nconst handleJump = () => {\n  const page = parseInt(jumpPage.value)\n  if (!isNaN(page) && page >= 1 && page <= props.totalPages) {\n    goToPage(page)\n  }\n  jumpPage.value = ''\n}\n\nwatch(() => props.currentPage, () => {\n  jumpPage.value = ''\n})\n</script>\n\n<template>\n  <div v-if=\"totalPages > 0\" class=\"pagination\">\n    <button\n      class=\"page-btn\"\n      :disabled=\"currentPage <= 1\"\n      @click=\"goToPage(currentPage - 1)\"\n    >\n      上一页\n    </button>\n\n    <template v-for=\"(page, index) in pages\" :key=\"index\">\n      <span v-if=\"page === -1\" class=\"page-ellipsis\">…</span>\n      <button\n        v-else\n        :class=\"['page-btn', 'page-num', { active: page === currentPage }]\"\n        @click=\"goToPage(page)\"\n      >\n        {{ page }}\n      </button>\n    </template>\n\n    <button\n      class=\"page-btn\"\n      :disabled=\"currentPage >= totalPages\"\n      @click=\"goToPage(currentPage + 1)\"\n    >\n      下一页\n    </button>\n\n    <div class=\"page-info\">\n      第 {{ currentPage }} 页 / 共 {{ totalPages }} 页，共 {{ total }} 条\n    </div>\n\n    <div class=\"page-jump\">\n      <span>跳至</span>\n      <input\n        v-model=\"jumpPage\"\n        type=\"number\"\n        min=\"1\"\n        :max=\"totalPages\"\n        class=\"jump-input\"\n        @keyup.enter=\"handleJump\"\n      />\n      <span>页</span>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.pagination {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 24px 0;\n  flex-wrap: wrap;\n}\n\n.page-btn {\n  min-width: 36px;\n  height: 36px;\n  padding: 0 12px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid var(--color-border);\n  border-radius: var(--radius-sm);\n  background: var(--color-bg-card);\n  color: var(--color-text);\n  font-size: 14px;\n  cursor: pointer;\n  transition: all var(--transition);\n}\n\n.page-btn:hover:not(:disabled):not(.active) {\n  border-color: var(--color-primary);\n  color: var(--color-primary);\n}\n\n.page-btn:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n.page-btn.active {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: #fff;\n  font-weight: 600;\n}\n\n.page-ellipsis {\n  color: var(--color-text-muted);\n  padding: 0 4px;\n}\n\n.page-info {\n  font-size: 13px;\n  color: var(--color-text-muted);\n  margin-left: 12px;\n}\n\n.page-jump {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  color: var(--color-text-muted);\n  margin-left: 8px;\n}\n\n.jump-input {\n  width: 56px;\n  height: 32px;\n  text-align: center;\n  font-size: 13px;\n  padding: 4px 8px;\n}\n\n/* 隐藏 number 输入框箭头 */\n.jump-input::-webkit-inner-spin-button,\n.jump-input::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n}\n\n.jump-input {\n  -moz-appearance: textfield;\n}\n\n@media (max-width: 640px) {\n  .page-info,\n  .page-jump {\n    display: none;\n  }\n}\n</style>\n"],"names":["_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","_normalizeClass","_toDisplayString"],"mappings":"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"}