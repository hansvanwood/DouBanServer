{"version":3,"file":"HomeView.js","sources":["../../src/components/CountUp.vue","../../src/views/HomeView.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, onMounted, watch } from 'vue'\n\nconst props = defineProps<{\n  target: number\n}>()\n\nconst current = ref(0)\n\nconst animate = () => {\n  const startTime = performance.now()\n  const duration = 1500 // 1.5Áßí\n\n  const step = (currentTime: number) => {\n    const elapsed = currentTime - startTime\n    const progress = Math.min(elapsed / duration, 1)\n\n    // ÁºìÂä®ÂáΩÊï∞ÔºöeaseOutExpo\n    const eased = progress === 1 ? 1 : 1 - Math.pow(2, -10 * progress)\n    current.value = Math.floor(eased * props.target)\n\n    if (progress < 1) {\n      requestAnimationFrame(step)\n    } else {\n      current.value = props.target\n    }\n  }\n\n  requestAnimationFrame(step)\n}\n\nonMounted(() => {\n  if (props.target > 0) animate()\n})\n\nwatch(() => props.target, (newVal) => {\n  if (newVal > 0) animate()\n})\n</script>\n\n<template>\n  <span class=\"count-up\">{{ current.toLocaleString() }}</span>\n</template>\n\n<style scoped>\n.count-up {\n  font-variant-numeric: tabular-nums;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { fetchMovieStats } from '@/api/movie'\nimport { useMovieStore } from '@/stores/movieStore'\nimport CountUp from '@/components/CountUp.vue'\n\nconst router = useRouter()\nconst movieStore = useMovieStore()\n\nconst loaded = ref(false)\nconst movieCount = ref(0)\nconst commentCount = ref(0)\nconst workerCount = ref(0)\n\nonMounted(async () => {\n  try {\n    // ‰ºòÂÖà‰ΩøÁî®ÁºìÂ≠ò\n    if (movieStore.stats) {\n      movieCount.value = movieStore.stats.movieCount\n      commentCount.value = movieStore.stats.commentCount\n      workerCount.value = movieStore.stats.workerCount\n      loaded.value = true\n      return\n    }\n    const res: any = await fetchMovieStats()\n    const data = res?.data || res\n    movieCount.value = data.movieCount || 0\n    commentCount.value = data.commentCount || 0\n    workerCount.value = data.workerCount || 0\n    movieStore.setStats({ movieCount: movieCount.value, commentCount: commentCount.value, workerCount: workerCount.value })\n    loaded.value = true\n  } catch (e) {\n    console.error('Ëé∑ÂèñÁªüËÆ°Êï∞ÊçÆÂ§±Ë¥•', e)\n    loaded.value = true\n  }\n})\n\nconst goToMovies = () => router.push('/movies')\n</script>\n\n<template>\n  <div class=\"home-page\">\n    <!-- ‰∏ªËßÜËßâÂå∫ -->\n    <section class=\"hero-section\">\n      <div class=\"hero-bg\">\n        <div class=\"hero-particles\">\n          <span v-for=\"i in 6\" :key=\"i\" :class=\"'particle p' + i\"></span>\n        </div>\n      </div>\n      <div class=\"hero-content\">\n        <h1 class=\"hero-title\">\n          <span class=\"title-line\">Êé¢Á¥¢</span>\n          <span class=\"title-line accent\">ÂÖâÂΩ±‰∏ñÁïå</span>\n        </h1>\n        <p class=\"hero-subtitle\" v-if=\"loaded\">\n          Êî∂ÂΩï <strong>{{ movieCount.toLocaleString() }}</strong> ÈÉ®ÁîµÂΩ±Ôºå<strong>{{ commentCount.toLocaleString() }}</strong> Êù°ÁúüÂÆûËØÑËÆ∫\n        </p>\n        <p class=\"hero-subtitle\" v-else>Âä†ËΩΩ‰∏≠...</p>\n      </div>\n    </section>\n\n    <!-- ÁªüËÆ°Âç°ÁâáÂå∫ -->\n    <section class=\"stats-section\" v-if=\"loaded\">\n      <div class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">üé¨</div>\n          <div class=\"stat-number\">\n            <CountUp :target=\"movieCount\" />\n          </div>\n          <div class=\"stat-label\">ÈÉ®ÁîµÂΩ±</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">üí¨</div>\n          <div class=\"stat-number\">\n            <CountUp :target=\"commentCount\" />\n          </div>\n          <div class=\"stat-label\">Êù°ËØÑËÆ∫</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">üé≠</div>\n          <div class=\"stat-number\">\n            <CountUp :target=\"workerCount\" />\n          </div>\n          <div class=\"stat-label\">‰ΩçÁîµÂΩ±‰∫∫</div>\n        </div>\n      </div>\n    </section>\n\n    <!-- CTA -->\n    <section class=\"cta-section\">\n      <button class=\"btn-cta\" @click=\"goToMovies\">\n        <span>Êé¢Á¥¢ÁîµÂΩ±</span>\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M5 12h14M12 5l7 7-7 7\"/></svg>\n      </button>\n    </section>\n\n    <!-- È°µËÑö -->\n    <footer class=\"home-footer\">\n      <p>¬© 2026 Ë±ÜÁì£ÈÖ±. ÂÖ®Ê†àÊäÄÊúØÂ±ïÁ§∫.</p>\n    </footer>\n  </div>\n</template>\n\n<style scoped>\n.home-page {\n  min-height: calc(100vh - 60px);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  background-size: cover;\n  background: url('/home-background.jpeg') no-repeat fixed center center;\n}\n\n.home-page::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: rgba(15, 23, 42, 0.85); /* ÈªëËâ≤ÂçäÈÄèÊòéÈÅÆÁΩ© */\n  pointer-events: none;\n  z-index: 0;\n}\n\n.home-page > * {\n  position: relative;\n  z-index: 1;\n}\n\n/* Hero Âå∫ */\n.hero-section {\n  position: relative;\n  width: 100%;\n  padding: 120px 24px 60px;\n  display: flex;\n  justify-content: center;\n  overflow: hidden;\n}\n\n.hero-bg {\n  position: absolute;\n  inset: 0;\n  background: radial-gradient(ellipse at 50% 30%, rgba(96, 168, 78, 0.08) 0%, transparent 60%);\n}\n\n.hero-particles {\n  position: absolute;\n  inset: 0;\n}\n\n.particle {\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  opacity: 0.15;\n  animation: float 6s ease-in-out infinite;\n}\n\n.p1 { top: 20%; left: 15%; animation-delay: 0s; }\n.p2 { top: 60%; left: 80%; animation-delay: 1s; }\n.p3 { top: 30%; left: 70%; animation-delay: 2s; width: 4px; height: 4px; }\n.p4 { top: 70%; left: 25%; animation-delay: 3s; width: 8px; height: 8px; }\n.p5 { top: 45%; left: 50%; animation-delay: 4s; }\n.p6 { top: 80%; left: 60%; animation-delay: 5s; width: 5px; height: 5px; }\n\n@keyframes float {\n  0%, 100% { transform: translateY(0) scale(1); opacity: 0.15; }\n  50% { transform: translateY(-20px) scale(1.3); opacity: 0.3; }\n}\n\n.hero-content {\n  position: relative;\n  z-index: 1;\n  text-align: center;\n}\n\n.hero-title {\n  font-size: 56px;\n  font-weight: 800;\n  line-height: 1.2;\n  margin-bottom: 20px;\n}\n\n.title-line {\n  display: block;\n}\n\n.title-line.accent {\n  background: linear-gradient(135deg, var(--color-primary), #8dd87a, var(--color-primary));\n  background-size: 200% auto;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  animation: gradient-shift 4s ease-in-out infinite;\n}\n\n@keyframes gradient-shift {\n  0%, 100% { background-position: 0% center; }\n  50% { background-position: 100% center; }\n}\n\n.hero-subtitle {\n  font-size: 18px;\n  color: var(--color-text-muted);\n  line-height: 1.6;\n}\n\n.hero-subtitle strong {\n  color: var(--color-primary);\n  font-weight: 600;\n}\n\n/* ÁªüËÆ°Âç°Áâá */\n.stats-section {\n  width: 100%;\n  max-width: 800px;\n  padding: 0 24px 40px;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 20px;\n}\n\n.stat-card {\n  background: var(--color-bg-card);\n  border: 1px solid var(--color-border);\n  border-radius: var(--radius-card);\n  padding: 28px 20px;\n  text-align: center;\n  transition: all var(--transition);\n  position: relative;\n  overflow: hidden;\n}\n\n.stat-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, var(--color-primary), #8dd87a);\n  opacity: 0;\n  transition: opacity var(--transition);\n}\n\n.stat-card:hover {\n  border-color: rgba(96, 168, 78, 0.3);\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);\n}\n\n.stat-card:hover::before {\n  opacity: 1;\n}\n\n.stat-icon {\n  font-size: 32px;\n  margin-bottom: 12px;\n}\n\n.stat-number {\n  font-size: 36px;\n  font-weight: 800;\n  color: var(--color-primary);\n  margin-bottom: 6px;\n}\n\n.stat-label {\n  font-size: 14px;\n  color: var(--color-text-muted);\n}\n\n/* CTA */\n.cta-section {\n  padding: 20px 24px 60px;\n}\n\n.btn-cta {\n  display: inline-flex;\n  align-items: center;\n  gap: 10px;\n  padding: 14px 36px;\n  background: linear-gradient(135deg, var(--color-primary), #4e8f3e);\n  color: #fff;\n  font-size: 17px;\n  font-weight: 600;\n  border-radius: 50px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 20px rgba(96, 168, 78, 0.3);\n}\n\n.btn-cta:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 30px rgba(96, 168, 78, 0.5);\n}\n\n.btn-cta svg {\n  transition: transform 0.3s ease;\n}\n\n.btn-cta:hover svg {\n  transform: translateX(4px);\n}\n\n/* È°µËÑö */\n.home-footer {\n  margin-top: auto;\n  padding: 40px 24px;\n  text-align: center;\n  font-size: 16px;\n  color: var(--color-text-muted);\n  opacity: 0.6;\n}\n\n/* ÂìçÂ∫îÂºè */\n@media (max-width: 640px) {\n  .hero-title {\n    font-size: 36px;\n  }\n  .hero-subtitle {\n    font-size: 15px;\n  }\n  .stats-grid {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  .stat-number {\n    font-size: 28px;\n  }\n}\n</style>\n"],"names":["_openBlock","_createElementBlock","_hoisted_1","_toDisplayString","_createElementVNode","_Fragment","_renderList","_createVNode"],"mappings":"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"}